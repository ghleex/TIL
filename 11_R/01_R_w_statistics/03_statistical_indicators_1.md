# 데이터를 요약하는 통계 지표 1

## 1. 평균값과 중앙값

### 평균값

![image](https://user-images.githubusercontent.com/52685206/108709718-707fe800-7556-11eb-8c71-0a3c8c8a69c9.png)

* 구하는 공식
  $$
  {\bar{x}} = \frac{\sum\limits_{i=1}^{n}{x}}{n}
  $$
  

![image](https://user-images.githubusercontent.com/52685206/108709842-9a390f00-7556-11eb-83bf-3b867d8b48cd.png)

### 중앙값

* 데이터가 순서대로 정렬되어 있어야 함. 그렇지 않다면 sorting부터 해야 함

* Skewness

  |  Skew to the right   |        대칭 분포         |  Skew to the left  |
  | :------------------: | :----------------------: | :----------------: |
  | 오른쪽으로 기운 분포 | Symmetrical Distribution | 왼쪽으로 기운 분포 |
  |    평균 != 중앙값    |      평균 = 중앙값       |   평균 != 중앙값   |

  ![Relationship_between_mean_and_median_under_different_skewness](https://user-images.githubusercontent.com/52685206/108710918-05371580-7558-11eb-8254-424f545f04c7.png)

* 구하는 공식

  * 전체 데이터 개수가 홀수인 경우
    $$
    x_{(\frac{n+1}{2})}
    $$

  * 전체 데이터 개수가 짝수인 경우
    $$
    \frac{x_{(\frac{n+1}{2})}+x_{(\frac{n+2}{2})}}{2}
    $$



### 평균과 중앙값의 특성

* 평균이 중앙값보다 극단 값이 민감함

  데이터가 다음과 같이 [  1  2  3  4  (5  |  50)  ] 있다고 한다면

  괄호 안의 수가 5인 경우

  * 평균: 3, 중앙값: 3

  괄호 안의 수가 50인 경우

  * 평균: 12, 중앙값: 3

* 극단값이 바뀜에 따라 평균이 영향을 더 많이 받음을 확인할 수 있다.





## 2. 상자그림(box plot)

* 개별 box와 box 안의 선의 가지는 의미와 whisker(수염 모양)를 어떻게 그리게 되는지 알아보기

### Quartiles(사분위수)

* 사분위수는 세 개가 있음(Q1, Q2, Q3)

  * Q2가 전체 데이터의 중앙값(median)이 됨
  * Q1은 첫 번째 데이터부터 Q2 직전 데이터까지를 한 그룹으로 하여 그 중앙값을 나타냄
    * Q2보다 작은 데이터들의 중앙값
    * 데이터의 25%가 Q1보다 작다는 의미
  * Q3은 Q2 직후 데이터부터 마지막 데이터까지를 한 그룹으로 하여 그 중앙값을 나타냄
    * Q2보다 큰 데이터들의 중앙값
    * 데이터의 75%가 Q3보다 작다는 의미

* 데이터가 `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]` 으로 구성되어 있다면

  * 전체 데이터의 중앙값(median), Q2는 
    $$
    {\bar{x}} = \frac{x_{(\frac{n+1}{2})}+x_{(\frac{n+2}{2})}}{2} = \frac{5 + 6}{2} = 5.5
    $$

  * Q1은 첫 번째 데이터인 1부터 Q2 직전 데이터인 5까지의 데이터 `[1, 2, 3, 4, 5]`의 중앙값이므로 3이 됨

  * Q3은 Q2 직후 데이터인 6부터 마지막 데이터인 10까지의 데이터 `[6, 7, 8, 9 ,10]`의 중앙값이므로 8이 됨



### Box Plot 그리는 순서

#### 1. 데이터가 `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]` 인 경우

##### 1.1. Q1, Q2, Q3 구하기

##### 1.2. IQR(Interquartile Range) 구하기

* IQR ＝ Q3 － Q1

##### 1.3. 가상의 울타리 세우기

* 우측 부분(upper fence)
  : Q3 ＋ 1.5 × IQR ＝ 8 ＋ 1.5 × 5 ＝ 15.5
* 좌측 부분(lower fence)
  : Q1 － 1.5 × IQR ＝ 3 － 1.5 × 5 ＝ -4.5

##### 1.4. 데이터 중 울타리 안에서 가장 큰/작은 데이터 포인트 구하기

* 가장 큰 데이터 포인트: 10
* 가장 작은 데이터 포인트: 1

##### 1.5. 가상의 울타리를 실제 whisker로 바꾸기

![box_plot_1](https://user-images.githubusercontent.com/52685206/110327055-d1caaf80-805c-11eb-8803-d394b90d3bb7.png)



#### 2. 데이터가 `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 20]` 인 경우

##### 2.1. Q1, Q2, Q3 구하기

* Q2(median): 6
* Q1: 3.5 - `[1, 2, 3, 4, 5, 6]` 의 중앙값
* Q3: 8.5 - `[6, 7, 8, 9, 10, 20]` 의 중앙값

##### 2.2 IQR(Interquantile Range) 구하기

* IQR ＝ Q3 － Q1 ＝ 8.5 － 3.5 ＝ 5

##### 2.3. 가상의 울타리 세우기

* 우측 부분(upper fence)
  : Q3 ＋ 1.5 × IQR ＝ 8.5 ＋ 1.5 × 5 ＝ 15.5
* 좌측 부분(lower fence)
  : Q1 － 1.5 × IQR ＝ 3.5 － 1.5 × 5 ＝ -4.5

##### 2.4. 데이터 중 울타리 안에서 가장 큰/작은 데이터 포인트 구하기

* 가장 큰 데이터 포인트: 10
* 가장 작은 데이터 포인트: 1

##### 2.5 가상의 울타리를 실제 whisker로 바꾸기

##### 2.6. 울타리 바깥의 데이터는 점으로 표시하기

![box_plot_2](https://user-images.githubusercontent.com/52685206/110327059-d2fbdc80-805c-11eb-8dea-513e472e506d.png)

### IQR?

* Interquartile Range
* 평균, 중앙값은 데이터의 중심을 나타내는 지표로, 데이터가 어떻게 분포되어 있는지에 대해서는 알 수 없음
* 분포가 밀집되어 있는지, 퍼져 있는지를 확인하기 위하여 IQR과 같은 지표가 필요함
* 분포의 퍼짐을 측정하는 통계 지표: Q3 － Q1
* 두 가지 데이터셋을 이용하여 IQR에 대해 알아보기
  * Dataset #1: [1, 2, 2, 3, 3, 3, 4, 4, 5]
    * Q2: 3
    * Q1: 2 - [1, 2, 2, 3, 3] 의 중앙값
    * Q3: 4 - [3, 3, 4, 4, 5] 의 중앙값
    * IQR ＝ Q3 － Q1 ＝ 2
  * Dataset #2: [1, 2, 3, 4, 5, 6, 7, 8, 9]
    * Q2: 5
    * Q1: 3 - [1, 2, 3, 4, 5] 의 중앙값
    * Q3: 7 - [5, 6, 7, 8, 9] 의 중앙값
    * IQR ＝ Q3 － Q1 ＝ 4
* Q1보다 작은 데이터는 전체의 25%를 차지함
* Q3보다 작은 데이터는 전체의 75%를 차지함
* Q1과 Q3 사이 범위 데이터는 전체의 50%

